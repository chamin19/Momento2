{"ast":null,"code":"var _jsxFileName = \"/Users/chamin/Documents/Momento2/client/src/context/EventContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useCallback } from 'react';\nimport { eventService } from '../services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventContext = /*#__PURE__*/createContext();\nexport const useEvents = () => {\n  _s();\n  const context = useContext(EventContext);\n  if (!context) {\n    throw new Error('useEvents must be used within an EventProvider');\n  }\n  return context;\n};\n_s(useEvents, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const EventProvider = ({\n  children\n}) => {\n  _s2();\n  const [events, setEvents] = useState([]);\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    category: '',\n    city: '',\n    tags: [],\n    startDate: '',\n    endDate: '',\n    sortBy: 'event_date',\n    sortOrder: 'asc'\n  });\n  const [categories, setCategories] = useState([]);\n  const [tags, setTags] = useState([]);\n\n  // Fetch events with current filters\n  const fetchEvents = useCallback(async (page = 1) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await eventService.getEvents({\n        ...filters,\n        page,\n        limit: pagination.limit\n      });\n      setEvents(result.events || []);\n      setPagination(result.pagination || {\n        page: 1,\n        limit: 10,\n        total: 0,\n        totalPages: 0\n      });\n    } catch (err) {\n      setError(err.message || 'Failed to fetch events');\n      setEvents([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, pagination.limit]);\n\n  // Fetch single event\n  const fetchEventById = useCallback(async id => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await eventService.getEventById(id);\n      setCurrentEvent(result.event);\n      return result.event;\n    } catch (err) {\n      setError(err.message || 'Failed to fetch event');\n      setCurrentEvent(null);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Fetch categories\n  const fetchCategories = useCallback(async () => {\n    try {\n      const result = await eventService.getCategories();\n      setCategories(result.categories || []);\n    } catch (err) {\n      console.error('Failed to fetch categories:', err);\n    }\n  }, []);\n\n  // Fetch tags\n  const fetchTags = useCallback(async () => {\n    try {\n      const result = await eventService.getTags();\n      setTags(result.tags || []);\n    } catch (err) {\n      console.error('Failed to fetch tags:', err);\n    }\n  }, []);\n\n  // Update filters\n  const updateFilters = useCallback(newFilters => {\n    setFilters(prev => ({\n      ...prev,\n      ...newFilters\n    }));\n  }, []);\n\n  // Clear filters\n  const clearFilters = useCallback(() => {\n    setFilters({\n      search: '',\n      category: '',\n      city: '',\n      tags: [],\n      startDate: '',\n      endDate: '',\n      sortBy: 'event_date',\n      sortOrder: 'asc'\n    });\n  }, []);\n  const value = {\n    events,\n    currentEvent,\n    loading,\n    error,\n    pagination,\n    filters,\n    categories,\n    tags,\n    fetchEvents,\n    fetchEventById,\n    fetchCategories,\n    fetchTags,\n    updateFilters,\n    clearFilters,\n    setCurrentEvent\n  };\n  return /*#__PURE__*/_jsxDEV(EventContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s2(EventProvider, \"1PZwX8CAlgH4WOSlkRlsL8JWQeY=\");\n_c = EventProvider;\nexport default EventContext;\nvar _c;\n$RefreshReg$(_c, \"EventProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","eventService","jsxDEV","_jsxDEV","EventContext","useEvents","_s","context","Error","EventProvider","children","_s2","events","setEvents","currentEvent","setCurrentEvent","loading","setLoading","error","setError","pagination","setPagination","page","limit","total","totalPages","filters","setFilters","search","category","city","tags","startDate","endDate","sortBy","sortOrder","categories","setCategories","setTags","fetchEvents","result","getEvents","err","message","fetchEventById","id","getEventById","event","fetchCategories","getCategories","console","fetchTags","getTags","updateFilters","newFilters","prev","clearFilters","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/chamin/Documents/Momento2/client/src/context/EventContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from 'react';\nimport { eventService } from '../services';\n\nconst EventContext = createContext();\n\nexport const useEvents = () => {\n  const context = useContext(EventContext);\n  if (!context) {\n    throw new Error('useEvents must be used within an EventProvider');\n  }\n  return context;\n};\n\nexport const EventProvider = ({ children }) => {\n  const [events, setEvents] = useState([]);\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0,\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    category: '',\n    city: '',\n    tags: [],\n    startDate: '',\n    endDate: '',\n    sortBy: 'event_date',\n    sortOrder: 'asc',\n  });\n  const [categories, setCategories] = useState([]);\n  const [tags, setTags] = useState([]);\n\n  // Fetch events with current filters\n  const fetchEvents = useCallback(async (page = 1) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await eventService.getEvents({\n        ...filters,\n        page,\n        limit: pagination.limit,\n      });\n      setEvents(result.events || []);\n      setPagination(result.pagination || { page: 1, limit: 10, total: 0, totalPages: 0 });\n    } catch (err) {\n      setError(err.message || 'Failed to fetch events');\n      setEvents([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, pagination.limit]);\n\n  // Fetch single event\n  const fetchEventById = useCallback(async (id) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await eventService.getEventById(id);\n      setCurrentEvent(result.event);\n      return result.event;\n    } catch (err) {\n      setError(err.message || 'Failed to fetch event');\n      setCurrentEvent(null);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Fetch categories\n  const fetchCategories = useCallback(async () => {\n    try {\n      const result = await eventService.getCategories();\n      setCategories(result.categories || []);\n    } catch (err) {\n      console.error('Failed to fetch categories:', err);\n    }\n  }, []);\n\n  // Fetch tags\n  const fetchTags = useCallback(async () => {\n    try {\n      const result = await eventService.getTags();\n      setTags(result.tags || []);\n    } catch (err) {\n      console.error('Failed to fetch tags:', err);\n    }\n  }, []);\n\n  // Update filters\n  const updateFilters = useCallback((newFilters) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  }, []);\n\n  // Clear filters\n  const clearFilters = useCallback(() => {\n    setFilters({\n      search: '',\n      category: '',\n      city: '',\n      tags: [],\n      startDate: '',\n      endDate: '',\n      sortBy: 'event_date',\n      sortOrder: 'asc',\n    });\n  }, []);\n\n  const value = {\n    events,\n    currentEvent,\n    loading,\n    error,\n    pagination,\n    filters,\n    categories,\n    tags,\n    fetchEvents,\n    fetchEventById,\n    fetchCategories,\n    fetchTags,\n    updateFilters,\n    clearFilters,\n    setCurrentEvent,\n  };\n\n  return (\n    <EventContext.Provider value={value}>\n      {children}\n    </EventContext.Provider>\n  );\n};\n\nexport default EventContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}